<html>

<head>
 <title>Automatische Registrierung und Ankündigung des Gewinners</title>
 <link rel="stylesheet" href="formate.css" type="text/css">
 <style>
 body { background-image: url("bilder/Pages40.jpeg"); background-size:cover; background-repeat: no-repeat; }
 </style>
</head>
 
  <!-- Navigationsleiste -->
 <div class="nav">
      <ul>
        <li class="Startseite"><a href="https://murielantonia.github.io/GitHub-Pages-2.0/Startseite.html">Startseite</a></li>
        <li class="Bekanntmachung mit Snap!"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/BmS.html">Schritt 1</a></li>
        <li class="Idee"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/I.html">Schritt 2</a></li>
        <li class="Beginn des Spiels"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/BdS.html">Schritt 3</a></li>
        <li class="Zeichnen des Tic-Tac-Toe Feldes"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/ZdTTTF.html">Schritt 4</a></li>
        <li class="Benennung, Nummerierung und Erkennung der Spielfeldzellen"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/BNuEdS.html">Schritt 5</a></li>
        <li class="Markierung der Spieler"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/MdS.html">Schritt 6</a></li>
        <li class="Automatische Registrierung und Ankündigung des Gewinners"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/ARuAdG.html">Schritt 7</a></li>
        <li class="Automatische Registrierung und Ankündigung eines Gleichstandes"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/ARuAeG.html">Schritt 8</a></li>
        <li class="Probleme und Hindernisse beim Programmieren"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/PuHbP.html">Schritt 9</a></li>
        <li class="Design von Stage und Sprites"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/DvSuS.html">Schritt 10</a></li>
        <li class="Conclusion"><a href="http://murielantonia.github.io/GitHub-Pages-2.0/C.html">Conclusion</a></li>
      </ul>
    </div>
 

<body>
 <p>1</p>
 <p>2</p>
 <p>3</p>
 <p>4</p>
 <h2 class="sans-serif" style="color:#F5A9F2;"><b> <a id="ARuAdG">Automatische Registrierung und Ankündigung des Gewinners</a></b></h2> 
 <p>1</p>
 <p>2</p>
 <p>3</p>
 <p>4</p>
<p class="sans-serif">Bisher kann also ein Tic-Tac-Toe Feld von Sprite1 auf den Hintergrund (Stage) gezeichnet werden und Markierungen des Spielfelds, durch Sprite2 und Sprite3, können vorgenommen werden.  Nun soll es darum gehen, wie der Gewinn oder Verlust der Spieler automatisch erkannt werden kann, über einen vierten Sprite, den „Spielleiter“.</p> 
<p class="sans-serif">Dazu werden insgesamt 18 Variablen eingeführt, die einem Feld und einer Farbe zugeteilt werden, und den booleschen Wert „True“ annehmen, sobald auf genau ihrem Feld eine Markierung von genau ihrer Farbe vorgenommen wird.</p><p><img src="bilder/Bild16.png" alt="Bild16" style="width:287height:614border:0;"></p> 
<p class="sans-serif">Am Anfang des Spiels, noch bevor Sprite2 und Sprite3 für den Spieler zu sehen sind, setzen sie die Variablen ihrer jeweiligen Farbe zurück, auf den booleschen Wert „False“. Sprite2, also das Ufo, setzt die ihm zugehörigen Variablen Rot1 - Rot9 zurück. Sprite3, also der Astronaut, setzt die ihm zugehörigen Variablen Blau1 - Blau9 zurück. Dies geschieht, nachdem sie die Broadcast-Nachricht „Spielfeld vorbereitet!“ von Sprite1, in Gestalt eines Saturns, erhalten haben. Der zugehörige Programmteil ist auf diesen Bildern zu erkennen:</p>

<p class="sans-serif"><img src="bilder/Bild17.png" alt="Bild17" style="width:348height:445border:0;"></p>

<p class="sans-serif"><img src="bilder/Bild18.png" alt="Bild18" style="width:366height:447border:0;"></p>

<p class="sans-serif">Sobald jedoch eine der Spielfeldzellen in einer der Farben gefärbt wurde, muss die dazugehörige Variable den Wert „True“ annehmen. Erinnerung: Nach der Markierung des Feldes sendet Sprite2 die Broadcast-Nachricht „Feld markieren: Rot“, Sprite3 sendet die Broadcast-Nachricht „Feld markieren: Blau!“ Sie empfangen diese Nachrichten selbst, anstatt sie an den jeweils anderen weiterzugeben. Auf den folgenden Screenshots ist das Programm abgebildet, welches von diesen Broadcasts ausgelöst wird.</p>

<p class="sans-serif"><img src="bilder/Bild19.png" alt="Bild19" style="width:349height:472px;border:0;"></p> 

<p class="sans-serif">Übersetzung: Der Reporter „Which Tile?“ wird in insgesamt neun If-Bedingungen den Nummern der Spielfeldzellen gleichgesetzt. Wenn also, beispielsweise, der Sprite sich aktuell in Zelle1 befindet, da er nach der Markierung eine Sekunde wartet, wird die Variable Rot1 (Sprite2) oder Blau1 (Sprite3) richtig gestellt. Anschließend, wird, über eine Broadcast-Nachricht,  dem Spielleiter (Sprite4) mitgeteilt, den Spielstand zu prüfen.</p>
<p class="sans-serif">So wird also eine markierte Spielfeldzelle nicht nur auf das Spielfeld aufgezeichnet, sondern auch im Variablenverzeichnis registriert. Das ist von hoher Relevanz für die Bestimmung des Gewinners / Verlierers.</p><p>Der Spielleiter (Sprite4) prüft nach jedem Spielzug, den Ufo und Astronaut machen, den aktuellen Spielstand, wie es ihm mit der Broadcast-Nachricht „Spielstand prüfen: Rot / Blau!“ mitgeteilt wurde. Genauer funktioniert dieser Prozess folgendermaßen:</p>
<p class="sans-serif">Es gibt insgesamt sieben Kombinationen von Feldern, mit denen man das Spiel gewinnen kann, dazu gehören drei Zeilen, drei Spalten und zwei Diagonalen. Im Skript des Spielleiters ist ein „Prüfprogramm“ für jeden Spieler niedergeschrieben. Diese setzen sich aus mehreren If-Bedingungen zusammen, in denen gecheckt wird, ob die drei Spielfeldvariablen, die es braucht, um das Spiel zu gewinnen, dem booleschen Wert „True“ entsprechen. Wenn das Ufo (Rot) also Spielfeldzellen eins, zwei und drei in seiner Farbe markiert hat und dies im Variablenverzeichnis markiert ist, müssen die Variablen Rot1, Rot2 und Rot3 zwangsläufig der Wahrheit entsprechen. Der Spielleiter registriert und annonciert den Gewinner, nachdem er die Broadcast-Nachricht „Gewinner steht fest!“ abgegeben hat. Die dazugehörigen Skripte sind auf den folgenden Screenshots zu erkennen.</p>
  
<p><img src="bilder/Bild20.png" alt="Bild20" style="width:353px;height:468px;border:0;"></p>
  
<p><img src="bilder/Bild21.png" alt="Bild21" style="width:527px;height:486px;border:0;"></p>
  
<p class="sans-serif">Für die Ankündigung des Gewinners haben wir einen individuellen Block erstellt. Bevor dieser in Kraft tritt, müssen die beiden Spieler (Sprite2 und Sprite3) unsichtbar werden, um das Layout und Design nicht zu stören. Sie erhalten die eben genannte Broadcast-nachricht „Gewinner steht fest!“ und verstecken sich dann, sodass der Tic-Tac-Toe Spieler sie nicht mehr erkennen kann. Das hier abgebildete Programmstück ist in den Skripten beider Sprites vermerkt.</p>
  
<p><img src="bilder/Bild22.png" alt="Bild22" style="width:551px;height:489px;border:0;"></p>
  
<p class="sans-serif">Nun kann der Spielleiter ungestört den Gewinner küren. Dazu nimmt er die Gestalt des Gewinners an, zieht also ein Ufo- oder Astronautenkostüm an, auf denen, in blau, das Textbanner „Gewinner“ steht. Der Sprite befindet sich, in dieser Form, zunächst in der Mitte des Spielfeldes und bewegt sich dann auf und ab, um die freudige Nachricht zusätzlich zu unterstreichen. So sieht das Skript von Sprite2 (Rot) und Sprie3 (Blau) dazu aus:</p>
  
<p><img src="bilder/Bild23.png" alt="Bild23" style="width:361px;height:212px;border:0;"></p>

<p><img src="bilder/Bild24.png" alt="Bild24" style="width:409px;height:476px;border:0;"></p>
 
<p class="sans-serif">Übersetzung: Der „Announce: Red wins!“-Block, der unter den Kategorien „Motion“ und „Command“ abgelegt ist, enthält ein Programm zur Ankündigung des Spielgewinners.  Dafür befreit der Sprite4 (Spielleiter) zunächst den Hintergrund von Spielfeldgitter und Markierungen („Clear“). Bevor er sich dem Spieler zeigt, begibt er sich zu den Koordinaten x: 0 und y: 0, zeigt in Richtung 90, also nach rechts, und wechselt sein Kostüm. Dabei kann es sich entweder um „Ufo gewinnt!“ oder „Astronaut gewinnt!“ handeln, die Größe des Sprites wird auf 75% + 10% = 85% festgelegt. Nun ist alles vorbereitet und der Sprite kann sich zeigen („Show“). Die Auf- und Abbewegung setzt sich aus drei Teilen zusammen. Zunächst bewegt sich der Sprite, innerhalb von 1.5 Sekunden, nach unten, also zu den Koordinaten x: 0 und y: -50. Anschließend bewegt sich der Sprite, innerhalb von 3 Sekunden, nach oben, also zu den Koordinaten x: 0 und y: 50. Zuletzt bewegt sich der Sprite, innerhalb von 1.5 Sekunden, zurück in die Mitte des Spielfeldes, also zu den Koordinaten x: 0 und y: 0. Nach der Bewegung macht der Sprite sich für den Spieler unsichtbar (“Hide“) und das Spiel kann, durch klicken der grünen Fahne, erneut begonnen werden.</p>

 
  
</body>

</html>
